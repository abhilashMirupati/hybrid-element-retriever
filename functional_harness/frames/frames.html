<!DOCTYPE html>
<html>
<head>
    <title>Frames and Shadow DOM Test</title>
    <style>
        .container { padding: 20px; }
        iframe { border: 2px solid #ccc; margin: 10px 0; }
        .shadow-host { padding: 20px; background: #f0f0f0; margin: 20px 0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Main Frame</h1>
        <button id="main-button">Main Frame Button</button>
        
        <!-- First iframe with duplicate IDs -->
        <iframe id="frame1" srcdoc="
            <html>
            <body>
                <h2>Frame 1</h2>
                <button id='submit-button'>Submit in Frame 1</button>
                <input type='email' id='email-input' placeholder='Frame 1 Email'>
            </body>
            </html>
        " width="100%" height="150"></iframe>
        
        <!-- Second iframe with duplicate IDs -->
        <iframe id="frame2" srcdoc="
            <html>
            <body>
                <h2>Frame 2</h2>
                <button id='submit-button'>Submit in Frame 2</button>
                <input type='email' id='email-input' placeholder='Frame 2 Email'>
            </body>
            </html>
        " width="100%" height="150"></iframe>
        
        <!-- Shadow DOM Component -->
        <div id="shadow-host" class="shadow-host"></div>
        
        <!-- Nested iframes -->
        <iframe id="frame3" srcdoc="
            <html>
            <body>
                <h2>Outer Frame</h2>
                <iframe srcdoc='
                    <html>
                    <body>
                        <h3>Nested Frame</h3>
                        <button id=&quot;nested-button&quot;>Nested Button</button>
                    </body>
                    </html>
                ' width='100%' height='100'></iframe>
            </body>
            </html>
        " width="100%" height="200"></iframe>
    </div>
    
    <script>
        // Create Shadow DOM
        const shadowHost = document.getElementById('shadow-host');
        const shadowRoot = shadowHost.attachShadow({ mode: 'open' });
        
        shadowRoot.innerHTML = `
            <style>
                .shadow-content {
                    padding: 15px;
                    background: white;
                    border-radius: 8px;
                }
                button {
                    background: #4CAF50;
                    color: white;
                    padding: 10px 20px;
                    border: none;
                    border-radius: 4px;
                    cursor: pointer;
                }
            </style>
            <div class="shadow-content">
                <h3>Shadow DOM Component</h3>
                <button id="shadow-button">Shadow Button</button>
                <input type="text" id="shadow-input" placeholder="Shadow Input">
            </div>
        `;
    </script>
</body>
</html>